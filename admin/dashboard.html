<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5">
    <title>KY Secret Â· ç®¡ç†åå°</title>
    <style>
        /* ===== KY Secret å…¨ç«™è®¾è®¡ç³»ç»Ÿ V3 â€” ç®¡ç†åå°ç»Ÿä¸€ç‰ˆ ===== */
        /* ç»§æ‰¿è‡ª status/history é»‘é‡‘åŸºè°ƒ + æŠ•ç¨¿é¡µåœ†è§’å¡ç‰‡ + æ·±è‰²æ¨¡å¼é€‚é… */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        body {
            background: #f7fafc;        /* æµ…ç°èƒŒæ™¯ï¼Œä¸å…¬å¼€é¡µé¢ä¿æŒä¸€è‡´ */
            color: #0f2a40;
            padding: 2rem 1rem;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .ky-container {
            max-width: 960px;
            width: 100%;
            margin: 0 auto;
        }

        /* ===== å…¨å±€å¯¼èˆª â€” ä¸çŠ¶æ€/å†å²/æŠ•ç¨¿é¡µ 100% ä¸€è‡´ ===== */
        .nav-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .logo {
            font-size: 5rem;
            font-weight: 900;
            color: #000000;
            letter-spacing: -0.02em;
            margin-bottom: 0.5rem;
            line-height: 1;
        }

        .nav-buttons {
            display: flex;
            gap: 0.75rem;
            justify-content: center;
            margin-bottom: 1.2rem;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 0.5rem 1.4rem;
            border: 1px solid #e2e8f0;
            border-radius: 40px;
            background: #ffffff;
            color: #334155;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 550;
            transition: 0.15s;
            box-shadow: 0 1px 2px rgba(0,0,0,0.02);
        }

        .nav-btn:hover {
            background: #eef2f6;
            border-color: #cbd5e1;
        }

        .nav-btn.active {
            background: #0f172a;
            color: white;
            border-color: #0f172a;
        }

        /* ===== ç®¡ç†åå°ä¸“å±å¸ƒå±€ ===== */
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .dashboard-title {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .dashboard-title h1 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #0f2a40;
            letter-spacing: -0.3px;
        }

        .admin-badge {
            background: #0f172a;
            color: white;
            padding: 0.35rem 1.1rem;
            border-radius: 60px;
            font-size: 0.75rem;
            font-weight: 650;
            text-transform: uppercase;
            letter-spacing: 0.4px;
            border: 1px solid #2d3a5e;
        }

        .logout-btn {
            background: #f1f5f9;
            color: #1e3f5c;
            border: 1px solid #dae2ed;
            padding: 0.6rem 1.5rem;
            border-radius: 40px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: 0.15s;
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .logout-btn:hover {
            background: #e4ecf5;
            border-color: #9bb0c9;
        }

        /* ===== æœåŠ¡å™¨çŠ¶æ€å¡ç‰‡ â€” ç»§æ‰¿å†å²é¡µ incident-card ===== */
        .status-card {
            background: white;
            border-radius: 28px;
            border: 1px solid #ecf1f7;
            box-shadow: 0 4px 14px rgba(0, 20, 40, 0.02);
            padding: 1.8rem 2rem;
            margin-bottom: 2.2rem;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 1.6rem;
        }

        .card-header h2 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #0a1e32;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .live-tag {
            background: #fee2e2;
            color: #b45353;
            padding: 0.2rem 0.9rem;
            border-radius: 60px;
            font-size: 0.7rem;
            font-weight: 650;
            text-transform: uppercase;
        }

        /* èµ„æºç›‘æ§ç½‘æ ¼ â€” æ›´ç°ä»£ï¼Œå»é™¤å†—ä½™è§†è§‰ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.2rem;
            margin-bottom: 2rem;
        }

        .stat-item {
            background: #fafeff;
            border: 1px solid #e2ecf5;
            border-radius: 20px;
            padding: 1.2rem 1rem;
            display: flex;
            flex-direction: column;
            transition: 0.1s;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #657e96;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.4rem;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            line-height: 1;
            color: #0f2a40;
        }

        .stat-unit {
            font-size: 0.8rem;
            color: #6b8ba0;
            margin-left: 0.2rem;
            font-weight: 400;
        }

        .stat-error {
            color: #cd3c30;
        }

        .stat-warning {
            color: #e68a2e;
        }

        /* æ—¶é—´è½´ â€” å®Œå…¨ç»§æ‰¿å†å²é¡µ timeline é£æ ¼ï¼Œä½†æ›´ç´§å‡‘ */
        .history-timeline {
            margin-top: 1.4rem;
        }

        .timeline-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.8rem;
            color: #526f85;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .timeline-bars-container {
            display: flex;
            gap: 2px;
            height: 24px;
            background: #f1f7fd;
            border-radius: 12px;
            padding: 2px;
        }

        .timeline-block {
            flex: 1;
            border-radius: 4px;
            background: #e2e8f0;
            transition: 0.1s;
        }

        .timeline-block.ok { background: #10b981; }
        .timeline-block.down { background: #ef4444; }
        .timeline-block.degraded { background: #f59e0b; }

        .timeline-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 0.4rem;
            font-size: 0.65rem;
            color: #6f8fa8;
        }

        /* ===== å¾…å®¡æ ¸æŠ•ç¨¿å¡ç‰‡ â€” ä¸å†å²é¡µäº‹ä»¶å¡ç‰‡åŒæ¬¾ ===== */
        .submissions-section {
            margin-top: 1.8rem;
        }

        .section-title {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .section-title h2 {
            font-size: 1.3rem;
            font-weight: 700;
            color: #0f2a40;
            display: flex;
            align-items: center;
            gap: 0.6rem;
        }

        .pending-badge {
            background: #e68a2e;
            color: white;
            padding: 0.25rem 0.9rem;
            border-radius: 60px;
            font-size: 0.7rem;
            font-weight: 650;
        }

        .submission-card {
            background: white;
            border: 1px solid #ecf1f7;
            border-radius: 24px;
            padding: 1.5rem 1.8rem;
            margin-bottom: 1.2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.01);
            transition: 0.15s;
        }

        .submission-card:hover {
            border-color: #cde0ed;
            box-shadow: 0 8px 18px rgba(0,20,40,0.04);
        }

        .submission-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.8rem;
            flex-wrap: wrap;
        }

        .submission-id {
            font-weight: 650;
            color: #2563eb;
            background: #eef4ff;
            padding: 0.2rem 0.9rem;
            border-radius: 60px;
            font-size: 0.7rem;
            text-transform: uppercase;
        }

        .submission-time {
            color: #657e96;
            font-size: 0.75rem;
            font-family: monospace;
        }

        .submission-title {
            font-size: 1.15rem;
            font-weight: 650;
            color: #0a1e32;
            margin-bottom: 0.6rem;
        }

        .submission-content {
            color: #2c4a6a;
            font-size: 0.9rem;
            line-height: 1.6;
            margin-bottom: 1.2rem;
            background: #fafeff;
            padding: 1rem 1.2rem;
            border-radius: 18px;
            border-left: 4px solid #a0c6e9;
        }

        .submission-tags {
            display: flex;
            gap: 0.4rem;
            margin-bottom: 1.2rem;
            flex-wrap: wrap;
        }

        .tag {
            background: #e2ecf5;
            color: #1e4c6b;
            padding: 0.25rem 0.9rem;
            border-radius: 60px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .submission-images {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
            margin-bottom: 1.4rem;
        }

        .submission-images img {
            width: 80px;
            height: 80px;
            border-radius: 16px;
            object-fit: cover;
            border: 2px solid white;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }

        .action-buttons {
            display: flex;
            gap: 0.8rem;
            justify-content: flex-end;
            border-top: 1px solid #ecf5fa;
            padding-top: 1.2rem;
        }

        .btn {
            border: none;
            padding: 0.55rem 1.5rem;
            border-radius: 60px;
            font-size: 0.8rem;
            font-weight: 650;
            cursor: pointer;
            transition: 0.15s;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
        }

        .btn-approve {
            background: #10b981;
            color: white;
        }

        .btn-approve:hover {
            background: #0e9e6e;
        }

        .btn-reject {
            background: #f1f5f9;
            color: #1e3f5c;
            border: 1px solid #dae2ed;
        }

        .btn-reject:hover {
            background: #e4ecf5;
        }

        .empty-state {
            background: white;
            border-radius: 28px;
            padding: 3rem 2rem;
            text-align: center;
            color: #7e99b0;
            border: 1px dashed #cde0ed;
        }

        /* é¡µè„š â€” ä¸å…¨ç«™ç»Ÿä¸€ */
        .footer-note {
            text-align: center;
            margin-top: 3rem;
            font-size: 0.75rem;
            color: #7996ae;
            border-top: 1px solid #e2ecf5;
            padding-top: 1.8rem;
        }

        .footer-note a {
            color: #2c5282;
            text-decoration: none;
            font-weight: 500;
            margin: 0 0.4rem;
        }

        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 600px) {
            .logo { font-size: 4rem; }
            .status-card { padding: 1.5rem; }
            .stats-grid { grid-template-columns: 1fr; }
            .dashboard-header { flex-direction: column; align-items: flex-start; }
        }
    </style>
</head>
<body>
    <div class="ky-container">
        <!-- å…¨å±€å¯¼èˆª â€” ä¸çŠ¶æ€/å†å²/æŠ•ç¨¿é¡µå®Œå…¨ä¸€è‡´ï¼Œä¿æŒå“ç‰Œç»Ÿä¸€ -->
        <div class="nav-header">
            <div class="logo">KYSECRET</div>
            <div class="nav-buttons">
                <a href="./index.html" class="nav-btn">ğŸ“Š çŠ¶æ€</a>
                <a href="https://ky-secret-v3.pages.dev/status/history" class="nav-btn">ğŸ“‹ å†å²</a>
                <a href="./submit.html" class="nav-btn">âœ‰ï¸ æŠ•ç¨¿</a>
                <a href="#" class="nav-btn active">âš™ï¸ ç®¡ç†</a>
            </div>
        </div>

        <!-- ç®¡ç†åå°å¤´éƒ¨ï¼šæ¬¢è¿ä¿¡æ¯ + é€€å‡ºç™»å½• -->
        <div class="dashboard-header">
            <div class="dashboard-title">
                <h1>ç®¡ç†æ§åˆ¶å°</h1>
                <span class="admin-badge">ADMIN</span>
            </div>
            <button class="logout-btn" id="logoutBtn">
                <span>ğŸšª</span> é€€å‡ºç™»å½•
            </button>
        </div>

        <!-- æœåŠ¡å™¨çŠ¶æ€å¡ç‰‡ â€” é‡æ–°è®¾è®¡ï¼Œç»§æ‰¿å…¨ç«™åœ†è§’/é˜´å½±ï¼Œæ•°æ®å®æ—¶æ¨¡æ‹Ÿ -->
        <div class="status-card">
            <div class="card-header">
                <h2>
                    <span>ğŸ–¥ï¸</span> æœåŠ¡å™¨å®æ—¶çŠ¶æ€
                </h2>
                <span class="live-tag" id="liveIndicator">LIVE Â· æ¨¡æ‹Ÿ</span>
            </div>

            <!-- èµ„æºç›‘æ§ä¸‰æŒ‡æ ‡ï¼šCPU/GPU/å†…å­˜ï¼Œé”™è¯¯çŠ¶æ€ä»¥çº¢è‰²é«˜äº® -->
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-label">CPU</span>
                    <div>
                        <span class="stat-value stat-error" id="cpuValue">ERR</span>
                        <span class="stat-unit">%</span>
                    </div>
                    <span style="font-size:0.7rem; color:#b45353;" id="cpuDetail">ç¦»çº¿</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">GPU</span>
                    <div>
                        <span class="stat-value stat-error" id="gpuValue">ERR</span>
                        <span class="stat-unit">%</span>
                    </div>
                    <span style="font-size:0.7rem; color:#b45353;" id="gpuDetail">ä¸å¯ç”¨</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">å†…å­˜</span>
                    <div>
                        <span class="stat-value stat-error" id="memValue">ERR</span>
                        <span class="stat-unit">%</span>
                    </div>
                    <span style="font-size:0.7rem; color:#b45353;" id="memDetail">è¶…æ—¶</span>
                </div>
            </div>

            <!-- å†å²æ—¶é—´è½´ï¼ˆ7å¤©ç²’åº¦ï¼Œæ¯å—3å°æ—¶ï¼‰ â€” å®Œå…¨ç»§æ‰¿å†å²é¡µè§†è§‰ -->
            <div class="history-timeline">
                <div class="timeline-header">
                    <span>ğŸ“… æœåŠ¡å†å² (7å¤© / æ¯æ ¼3å°æ—¶)</span>
                    <span style="color:#10b981;">æ­£å¸¸</span> <span style="color:#ef4444; margin-left: 8px;">æ•…éšœ</span>
                </div>
                <div class="timeline-bars-container" id="serverTimelineContainer"></div>
                <div class="timeline-labels">
                    <span>7å¤©å‰</span>
                    <span>ç°åœ¨</span>
                </div>
            </div>
        </div>

        <!-- å¾…å®¡æ ¸æŠ•ç¨¿åˆ—è¡¨ â€” æ¨¡æ‹Ÿæ•°æ®ï¼Œé£æ ¼ä¸å†å²äº‹ä»¶å¡ç‰‡ç»Ÿä¸€ -->
        <div class="submissions-section">
            <div class="section-title">
                <h2>
                    <span>ğŸ“¬</span> å¾…å®¡æ ¸æŠ•ç¨¿
                </h2>
                <span class="pending-badge" id="pendingCount">2 å¾…å¤„ç†</span>
            </div>

            <!-- æŠ•ç¨¿å¡ç‰‡å®¹å™¨ï¼ŒåŠ¨æ€æ¸²æŸ“ -->
            <div id="submissionsListContainer">
                <!-- JS ä¼šåŠ¨æ€å¡«å……ï¼Œæ­¤å¤„ä¿ç•™é™æ€ç¤ºä¾‹ä»¥ä¿è¯è®¾è®¡é¢„è§ˆï¼Œä½†ä¼šè¢«è¦†ç›– -->
            </div>
        </div>

        <!-- å…¨ç«™ç»Ÿä¸€é¡µè„š -->
        <div class="footer-note">
            <a href="./index.html">â† å½“å‰çŠ¶æ€</a> Â· 
            <a href="https://ky-secret-v3.pages.dev/status/history">ğŸ“‹ å†å²äº‹ä»¶</a> Â· 
            <a href="#">ğŸ” å®¡è®¡æ—¥å¿—</a>
        </div>
    </div>

    <script>
        (function() {
            "use strict";

            // ========= KY Secret Admin Dashboard Â· ç»Ÿä¸€è§†è§‰ + æ¨¡æ‹ŸåŠŸèƒ½ =========
            // 1. æƒé™æ ¡éªŒï¼šæ£€æŸ¥ token (ä¸åŸæœ‰é€»è¾‘ä¿æŒä¸€è‡´)
            // 2. æ¨¡æ‹ŸæœåŠ¡å™¨é”™è¯¯çŠ¶æ€ (ERRï¼Œç¬¦åˆå½“å‰åç«¯ç¦»çº¿è®¾å®š)
            // 3. æ—¶é—´è½´ç”Ÿæˆ (7å¤©ï¼Œæ¯å—3å°æ—¶ï¼Œæœ€å8å—ä¸ºæ•…éšœ)
            // 4. åŠ¨æ€æ¸²æŸ“å¾…å®¡æ ¸æŠ•ç¨¿å¡ç‰‡
            // 5. é€€å‡ºç™»å½•

            // ---------- æƒé™æ ¡éªŒ ----------
            const token = localStorage.getItem('admin_token');
            if (!token) {
                // æœªç™»å½•è·³è½¬ï¼Œä¿ç•™åŸè¡Œä¸º
                location.href = 'login.html';
                return; // åœæ­¢æ‰§è¡Œ
            }

            // ---------- æ¨¡æ‹ŸæœåŠ¡å™¨çŠ¶æ€ (å…¨ERRï¼Œä¸ä¹‹å‰è®¾è®¡ä¸€è‡´) ----------
            function updateServerStatus() {
                // å…¨éƒ¨ç½®ä¸ºé”™è¯¯çŠ¶æ€ï¼Œå› ä¸ºåç«¯ç¦»çº¿
                document.getElementById('cpuValue').innerText = 'ERR';
                document.getElementById('gpuValue').innerText = 'ERR';
                document.getElementById('memValue').innerText = 'ERR';
                
                document.getElementById('cpuDetail').innerText = 'ç¦»çº¿';
                document.getElementById('gpuDetail').innerText = 'ä¸å¯ç”¨';
                document.getElementById('memDetail').innerText = 'è¶…æ—¶';

                // æ›´æ–°æŒ‡ç¤ºå™¨
                const liveIndicator = document.getElementById('liveIndicator');
                liveIndicator.innerHTML = 'âš ï¸ æ¨¡æ‹Ÿ Â· ç¦»çº¿';
                liveIndicator.style.background = '#fee2e2';
                liveIndicator.style.color = '#b45353';
            }

            // ---------- ç”Ÿæˆæ—¶é—´è½´ (7å¤©ï¼Œ24*7/3=56æ ¼ï¼Œæœ€å8æ ¼æ•…éšœ) ----------
            function generateTimeline(containerId) {
                const container = document.getElementById(containerId);
                if (!container) return;
                container.innerHTML = '';
                
                const totalBlocks = 56; // 7å¤© * 24å°æ—¶ / 3å°æ—¶ = 56
                for (let i = 0; i < totalBlocks; i++) {
                    const block = document.createElement('div');
                    block.classList.add('timeline-block');
                    // æœ€å8æ ¼ä¸ºæ•…éšœ (çº¢è‰²) ï¼Œå‰é¢ä¸ºæ­£å¸¸ (ç»¿è‰²)
                    if (i >= totalBlocks - 8) {
                        block.classList.add('down');
                    } else {
                        block.classList.add('ok');
                    }
                    container.appendChild(block);
                }
            }

            // ---------- æ¸²æŸ“å¾…å®¡æ ¸æŠ•ç¨¿ (æ¨¡æ‹Ÿæ•°æ®ï¼Œé£æ ¼ä¸å†å²é¡µç»Ÿä¸€) ----------
            function renderSubmissions() {
                const container = document.getElementById('submissionsListContainer');
                if (!container) return;

                // æ¨¡æ‹ŸæŠ•ç¨¿æ•°æ® â€”â€” å®Œå…¨ç¬¦åˆ KY Secret è°ƒæ€§
                const mockSubmissions = [
                    {
                        id: '#KY-2402',
                        time: '2026-02-13 15:23 CST',
                        title: 'å›¾ä¹¦é¦†é—­é¦†éŸ³ä¹å¤ªæ—©',
                        content: 'æ¯å¤©æ™šä¸Š9ç‚¹å°±å…³ç¯æ”¾éŸ³ä¹ï¼Œè€ƒç ”å…šçœŸçš„éœ€è¦å¤šå­¦ä¸€å°æ—¶ã€‚èƒ½ä¸èƒ½æ¨è¿Ÿåˆ°10ç‚¹ï¼Ÿå¥½å¤šåŒå­¦éƒ½æœ‰è¿™ä¸ªè¯‰æ±‚ã€‚',
                        tags: ['#å­¦æ ¡', '#å»ºè®®'],
                        images: ['https://picsum.photos/80/80?random=1'],
                        hasImage: true
                    },
                    {
                        id: '#KY-2401',
                        time: '2026-02-13 10:07 CST',
                        title: 'åŒ¿åè¡¨ç™½è®¡ç®—æœºå­¦é™¢æè€å¸ˆ',
                        content: 'æè€å¸ˆè®²è¯¾çœŸçš„å¤ªæ¸…æ™°äº†ï¼è™½ç„¶è¿™é—¨è¯¾å¾ˆéš¾ï¼Œä½†æ‚¨è®©æˆ‘è§‰å¾—ç¼–ç¨‹å¾ˆæœ‰æ„æ€ã€‚è°¢è°¢æ‚¨ï¼ğŸŒ¹',
                        tags: ['#æ ¡å›­', '#æ„Ÿè°¢'],
                        images: [],
                        hasImage: false
                    }
                ];

                // æ›´æ–°å¾…å¤„ç†æ•°é‡
                document.getElementById('pendingCount').innerText = `${mockSubmissions.length} å¾…å¤„ç†`;

                // æ¸…ç©ºå¹¶æ¸²æŸ“
                container.innerHTML = '';
                
                if (mockSubmissions.length === 0) {
                    container.innerHTML = '<div class="empty-state">âœ¨ æš‚æ— å¾…å®¡æ ¸æŠ•ç¨¿ï¼Œä¸€åˆ‡äº•ç„¶æœ‰åº</div>';
                    return;
                }

                mockSubmissions.forEach(sub => {
                    const card = document.createElement('div');
                    card.className = 'submission-card';

                    // å¤´éƒ¨å…ƒä¿¡æ¯
                    card.innerHTML = `
                        <div class="submission-meta">
                            <span class="submission-id">${sub.id}</span>
                            <span class="submission-time">${sub.time}</span>
                        </div>
                        <div class="submission-title">${sub.title}</div>
                        <div class="submission-content">${sub.content}</div>
                        <div class="submission-tags">
                            ${sub.tags.map(t => `<span class="tag">${t}</span>`).join('')}
                        </div>
                        ${sub.images.length ? `
                        <div class="submission-images">
                            ${sub.images.map(src => `<img src="${src}" alt="æŠ•ç¨¿å›¾ç‰‡">`).join('')}
                        </div>
                        ` : ''}
                        <div class="action-buttons">
                            <button class="btn btn-approve" onclick="window.approveSubmission('${sub.id}')">
                                <span>âœ…</span> é€šè¿‡
                            </button>
                            <button class="btn btn-reject" onclick="window.rejectSubmission('${sub.id}')">
                                <span>â›”</span> æ‹’ç»
                            </button>
                        </div>
                    `;
                    container.appendChild(card);
                });
            }

            // ---------- å®¡æ ¸æ“ä½œ (æ¨¡æ‹Ÿï¼Œä¿ç•™åŸalerté£æ ¼) ----------
            window.approveSubmission = function(id) {
                alert(`âœ… æŠ•ç¨¿ ${id} å·²é€šè¿‡ï¼ˆæ¨¡æ‹Ÿæ“ä½œï¼Œæ— å®é™…æ›´æ”¹ï¼‰`);
                // æ¼”ç¤º: é€šè¿‡åç§»é™¤å¡ç‰‡ (å®é™…åº”è°ƒAPI)
                // æ­¤å¤„ç®€å•æ¨¡æ‹Ÿç§»é™¤ï¼Œåˆ·æ–°åˆ—è¡¨ï¼ˆä»…æ¼”ç¤ºï¼‰
                // çœŸå®ç¯å¢ƒè¯·è°ƒç”¨åç«¯API
                console.log(`Approve ${id}`);
            };

            window.rejectSubmission = function(id) {
                alert(`â›” æŠ•ç¨¿ ${id} å·²æ‹’ç»ï¼ˆæ¨¡æ‹Ÿæ“ä½œï¼‰`);
                console.log(`Reject ${id}`);
            };

            // ---------- é€€å‡ºç™»å½• ----------
            function setupLogout() {
                const logoutBtn = document.getElementById('logoutBtn');
                if (logoutBtn) {
                    logoutBtn.addEventListener('click', function() {
                        localStorage.removeItem('admin_token');
                        location.href = 'login.html';
                    });
                }
            }

            // ---------- åˆå§‹åŒ–é¡µé¢ ----------
            function initDashboard() {
                updateServerStatus();
                generateTimeline('serverTimelineContainer');
                renderSubmissions();
                setupLogout();

                // å¯é€‰ï¼šå®šæ—¶â€œåˆ·æ–°â€çŠ¶æ€ (ä»…æ¨¡æ‹Ÿ)
                // setInterval(() => {
                //     // å¯ä»¥éšæœºæ”¹å˜ä¸€äº›æ•°å€¼ï¼Œä½“ç°å®æ—¶æ„Ÿï¼Œä½†ä¿æŒé”™è¯¯çŠ¶æ€ä¸ºä¸»
                // }, 10000);
            }

            // å¯åŠ¨
            initDashboard();
        })();
    </script>

    <!-- 
        è®¾è®¡ç»Ÿä¸€è¯´æ˜ï¼š
        - å¯¼èˆªæ ã€Logoã€æŒ‰é’®ä¸çŠ¶æ€é¡µã€å†å²é¡µã€æŠ•ç¨¿é¡µ100%åŒæºã€‚
        - çŠ¶æ€å¡ç‰‡é‡‡ç”¨ç™½è‰²åœ†è§’28pxï¼Œç»§æ‰¿ .incident-card / .submit-cardã€‚
        - æ—¶é—´è½´è§†è§‰ä¸å†å²é¡µ timeline-bars å®Œå…¨ä¸€è‡´ï¼Œé¢œè‰²è¯­ä¹‰ç»Ÿä¸€ã€‚
        - æŠ•ç¨¿å¡ç‰‡è®¾è®¡è¯­è¨€ç»§æ‰¿å†å²äº‹ä»¶å¡ç‰‡ï¼Œä½†å¼ºåŒ–äº†å®¡æ ¸æ“ä½œåŒºã€‚
        - å®Œå…¨ç§»é™¤é™ˆæ—§ã€ä¸åŒ¹é…çš„æ·±è“èƒŒæ™¯ï¼Œæ”¹ä¸ºæµ…è‰²æ¨¡å¼ï¼Œä¸å…¶ä»–é¡µé¢ä¸€è‡´ã€‚
        - ä¿ç•™åŸæœ‰åŠŸèƒ½ï¼štokenæ ¡éªŒã€logoutã€æ¨¡æ‹ŸERRçŠ¶æ€ã€æ—¶é—´è½´ã€å®¡æ ¸å¼¹çª—ã€‚
        - ç®¡ç†åå°ä¸å†ä½¿ç”¨ç‹¬ç«‹æ·±è‰²ä¸»é¢˜ï¼Œèå…¥å…¨ç«™è®¾è®¡ä½“ç³»ã€‚
    -->
</body>
</html>
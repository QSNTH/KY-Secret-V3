<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KY Secret Â· å†å²çŠ¶æ€</title>
  <style>
    /* å…¨å±€é‡ç½®ä¸å­—ä½“ â€” å»¶ç»­æç®€é£æ ¼ï¼Œå¼ºåŒ–å¯è¯»æ€§ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }

    body {
      background: #ffffff;
      color: #1e293b;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 1.5rem 1rem;
    }

    /* å¤´éƒ¨ â€”â€” å…‹åˆ¶çš„å­˜åœ¨æ„Ÿ */
    .header {
      text-align: center;
      margin-bottom: 2rem;
    }

    .logo {
      font-size: 5.5rem;
      font-weight: 900;
      color: #000000;
      letter-spacing: -0.02em;
      margin-bottom: 0.75rem;
      line-height: 1;
    }

    .nav-buttons {
      display: flex;
      gap: 0.75rem;
      justify-content: center;
      margin-bottom: 1.5rem;
    }

    .nav-btn {
      padding: 0.5rem 1.25rem;
      border: 1px solid #e2e8f0;
      border-radius: 40px;
      background: #f8fafc;
      color: #334155;
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 550;
      transition: all 0.15s;
    }

    .nav-btn:hover {
      background: #eef2f6;
      border-color: #cbd5e1;
    }

    .nav-btn.active {
      background: #0f172a;
      color: white;
      border-color: #0f172a;
    }

    .status-banner {
      background-color: #f59e0b;    /* ç¥ç€è‰²â€”â€”æç¤ºéƒ¨åˆ†æœåŠ¡ä¸ç¨³å®šï¼Œä¸å½“å‰å®é™…åŒ¹é… */
      color: white;
      padding: 0.85rem 1.25rem;
      border-radius: 40px;
      display: inline-block;
      margin: 0 auto;
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.3px;
      box-shadow: 0 2px 8px rgba(245, 158, 11, 0.15);
    }

    /* æœåŠ¡æ‘˜è¦å¡ç‰‡ â€”â€” å¹²å‡€åˆ©è½ */
    .section {
      margin-bottom: 1.8rem;
      border: 1px solid #edf2f7;
      border-radius: 20px;
      overflow: hidden;
      background: white;
      box-shadow: 0 1px 3px rgba(0,0,0,0.02);
    }

    .section-header {
      background-color: #fafcfe;
      padding: 1rem 1.25rem;
      font-weight: 650;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.95rem;
      color: #0a1e2f;
      border-bottom: 1px solid #ecf1f7;
    }

    .section-header::after {
      content: "â–¼";
      font-size: 0.75rem;
      color: #7c8b9c;
      transition: transform 0.2s;
    }

    .section-header.collapsed::after {
      transform: rotate(-90deg);
    }

    /* æœåŠ¡æ¡ç›® â€”â€” ç§»åŠ¨ä¼˜å…ˆ */
    .service-item {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      padding: 1rem 1.25rem;
      border-top: 1px solid #f1f5f9;
      background: white;
    }

    @media (min-width: 640px) {
      .service-item {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
      }
    }

    .service-name {
      color: #1e3a5f;
      font-weight: 500;
      word-break: break-word;
    }

    .service-status {
      font-weight: 650;
      font-size: 0.8rem;
      padding: 0.25rem 0.8rem;
      border-radius: 100px;
      display: inline-block;
      background: #f1f5f9;
    }

    .status-operational { 
      color: #0b6e4f; 
      background: #e0f2e6; 
    }
    .status-down { 
      color: #b91c1c; 
      background: #fee2e2; 
    }
    .status-degraded { 
      color: #b45309; 
      background: #ffedd5; 
    }

    /* æ—¶é—´è½´ â€”â€” é»˜è®¤éšè—ï¼Œç‚¹å‡»å±•å¼€ */
    .timeline-container {
      display: none;
      padding: 0 1.25rem 1rem 1.25rem;
      overflow-x: auto;
    }

    .timeline {
      display: flex;
      gap: 2px;
      height: 12px;
      min-width: 560px;
      border-radius: 6px;
      overflow: hidden;
    }

    @media (min-width: 640px) {
      .timeline {
        height: 16px;
        min-width: auto;
      }
    }

    .timeline-block {
      flex: 1;
      background-color: #e2e8f0;
      height: 100%;
    }

    .timeline-block.ok { background-color: #10b981; }
    .timeline-block.fail { background-color: #ef4444; }

    /* å†å²äº‹æ•… â€”â€” å¼ºè°ƒæ—¶é—´è½´ä¸ç»†èŠ‚ */
    .history-section {
      margin-top: 2.5rem;
    }

    .history-title {
      font-size: 1.15rem;
      font-weight: 650;
      color: #0f172a;
      margin-bottom: 1.5rem;
      letter-spacing: -0.3px;
      display: flex;
      align-items: center;
    }
    .history-title::before {
      content: "âŒ›";
      margin-right: 8px;
      font-size: 1.3rem;
    }

    .incident {
      border: 1px solid #e9edf2;
      border-radius: 20px;
      margin-bottom: 1.5rem;
      overflow: hidden;
      background: white;
      transition: box-shadow 0.15s;
    }

    .incident:hover {
      box-shadow: 0 8px 20px rgba(0,0,0,0.02);
    }

    .incident-header {
      padding: 1rem 1.25rem;
      color: white;
      font-weight: 600;
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
      font-size: 0.9rem;
    }

    @media (min-width: 640px) {
      .incident-header {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
      }
    }

    .incident-operational { background-color: #10b981; }
    .incident-degraded { background-color: #f59e0b; }
    .incident-maintenance { background-color: #2563eb; }

    .incident-body {
      padding: 1.25rem;
      font-size: 0.85rem;
      color: #2c3e50;
      background: #ffffff;
    }

    .incident-detail {
      margin-bottom: 0.9rem;
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
    }

    @media (min-width: 640px) {
      .incident-detail {
        flex-direction: row;
        gap: 1rem;
      }
    }

    .incident-detail-label {
      font-weight: 650;
      min-width: 110px;
      color: #4b6584;
    }

    .incident-timeline {
      margin-top: 1.2rem;
      padding-top: 1rem;
      border-top: 1px dashed #dce5ec;
    }

    .incident-event {
      margin-bottom: 0.9rem;
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
      font-size: 0.8rem;
    }

    @media (min-width: 640px) {
      .incident-event {
        flex-direction: row;
        gap: 1.2rem;
      }
    }

    .event-time {
      color: #5e6f7e;
      min-width: 170px;
      font-weight: 450;
      font-family: monospace;
    }

    .event-status {
      font-weight: 650;
      min-width: 105px;
      letter-spacing: 0.3px;
    }

    .status-identified { color: #10b981; }
    .status-investigating { color: #f59e0b; }
    .status-resolved { color: #10b981; }
    .status-update { color: #2563eb; }
    .status-monitoring { color: #0b8a73; }

    /* é¡µè„šå¯¼èˆª */
    .footer-nav {
      margin-top: 2.5rem;
      text-align: center;
      font-size: 0.8rem;
      color: #7e8c9e;
      border-top: 1px solid #ecf1f7;
      padding-top: 1.8rem;
    }

    .footer-nav a {
      color: #2c5282;
      text-decoration: none;
      margin: 0 0.5rem;
      font-weight: 500;
    }

    .footer-nav a:hover {
      text-decoration: underline;
    }

    /* ä¿®å¤ç¬¬ä¸€ä¸ªæ•…éšœç¤ºä¾‹çš„ä¸­æ–‡å ä½ */
    .incident-header span:first-child {
      word-break: break-word;
    }

    /* å½“ä¸‹æ— æ•°æ®æ—¶ */
    .no-incidents {
      text-align: center;
      color: #8b9aab;
      padding: 2rem;
      background: #fbfdff;
      border-radius: 20px;
      border: 1px dashed #d2dce6;
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- å¤´éƒ¨åŒºåŸŸ: logo + åŒé¡µå¯¼èˆªï¼Œæ˜ç¡®å½“å‰ä¸ºå†å²é¡µ -->
    <div class="header">
      <div class="logo">KYSECRET</div>
      <div class="nav-buttons">
        <a href="./index.html" class="nav-btn">çŠ¶æ€</a>
        <a href="./history.html" class="nav-btn active">å†å²</a>
      </div>
      <!-- æ¨ªå¹…çŠ¶æ€: ä¸å½“å‰æœåŠ¡ç¦»çº¿/éƒ¨åˆ†æ•…éšœåŒ¹é…ï¼Œæ–‡æ¡ˆæ›´æ¸…æ™° -->
      <div class="status-banner">
        âš ï¸ åç«¯ç¦»çº¿ Â· éƒ¨åˆ†æœåŠ¡ä¸å¯ç”¨ ï½œ æœ€åæ›´æ–°: å‡ ç§’å‰
      </div>
    </div>

    <!-- å®æ—¶æœåŠ¡çŠ¶æ€å¡ç‰‡ â€”â€” ä¿ç•™æŠ˜å æ—¶é—´è½´åŠŸèƒ½ï¼Œå†å²é¡µé¢ä¹Ÿéœ€è¦å¿«é€Ÿæ€»è§ˆ -->
    <div class="section">
      <div class="section-header" id="frontend-header">å‰ç«¯æ‰˜ç®¡</div>
      <div class="service-item">
        <span class="service-name">Cloudflare Pages</span>
        <span class="service-status status-operational">æ­£å¸¸</span>
      </div>
      <div class="timeline-container" id="timeline-pages-wrap">
        <div class="timeline" id="timeline-pages"></div>
      </div>
      <div class="service-item">
        <span class="service-name">GitHub ä»“åº“</span>
        <span class="service-status status-operational">æ­£å¸¸</span>
      </div>
      <div class="timeline-container" id="timeline-github-wrap">
        <div class="timeline" id="timeline-github"></div>
      </div>
    </div>

    <div class="section">
      <div class="section-header" id="backend-header">åç«¯æ ¸å¿ƒ</div>
      <div class="service-item">
        <span class="service-name">Backend API</span>
        <span class="service-status status-down">ç¦»çº¿</span>
      </div>
      <div class="timeline-container" id="timeline-api-wrap">
        <div class="timeline" id="timeline-api"></div>
      </div>
      <div class="service-item">
        <span class="service-name">æäº¤æœåŠ¡ (Submission)</span>
        <span class="service-status status-down">ä¸å¯ç”¨</span>
      </div>
      <div class="timeline-container" id="timeline-submit-wrap">
        <div class="timeline" id="timeline-submit"></div>
      </div>
    </div>

    <div class="section">
      <div class="section-header" id="admin-header">ç®¡ç†åå°</div>
      <div class="service-item">
        <span class="service-name">Admin ç™»å½•</span>
        <span class="service-status status-operational">æ­£å¸¸</span>
      </div>
      <div class="timeline-container" id="timeline-login-wrap">
        <div class="timeline" id="timeline-login"></div>
      </div>
      <div class="service-item">
        <span class="service-name">Admin ä»ªè¡¨æ¿</span>
        <span class="service-status status-down">ä¸å¯ç”¨</span>
      </div>
      <div class="timeline-container" id="timeline-dashboard-wrap">
        <div class="timeline" id="timeline-dashboard"></div>
      </div>
    </div>

    <!-- ========= å†å²äº‹æ•…åŒºåŸŸ ========= -->
    <!-- å¼ºåŒ–ï¼šå®Œå…¨ä¸­æ–‡æœ¬åœ°åŒ–ã€ä¿¡æ¯æ¸…æ™°ã€å¢åŠ çœŸå®æ„Ÿï¼Œè¡¥å…¨å ä½ç¤ºä¾‹ï¼Œåˆ é™¤é‡å¤çš„ç©ºç™½å ä½ -->
    <div class="history-section">
      <div class="history-title">è¿‘æœŸäº‹ä»¶ä¸ç»´æŠ¤è®°å½•</div>

      <!-- æ•…éšœ1ï¼š2026-02-13 åç«¯ä¸­æ–­ â€”â€” å®Œå–„æ ‡é¢˜ä¸ç»†èŠ‚ï¼Œæ›´ä¸“ä¸š -->
      <div class="incident">
        <div class="incident-header incident-degraded">
          <span>ğŸ”¥ Backend API æœåŠ¡ä¸­æ–­ (2026-02-13)</span>
          <span>éƒ¨åˆ†æœåŠ¡é™çº§</span>
        </div>
        <div class="incident-body">
          <div class="incident-detail">
            <span class="incident-detail-label">äº‹ä»¶çŠ¶æ€</span>
            <span><strong style="color: #10b981;">å·²è§£å†³</strong> (æœåŠ¡å·²æ¢å¤)</span>
          </div>
          <div class="incident-detail">
            <span class="incident-detail-label">å½±å“ç»„ä»¶</span>
            <span>Backend API Â· æäº¤æœåŠ¡</span>
          </div>
          <div class="incident-detail">
            <span class="incident-detail-label">èµ·å› </span>
            <span>ä¸Šæ¸¸æ•°æ®åº“è¿æ¥æ± æ³„æ¼ï¼Œå¯¼è‡´APIè¶…æ—¶</span>
          </div>
          <div class="incident-timeline">
            <div class="incident-event">
              <span class="event-time">2026-02-13 20:00 CST</span>
              <span class="event-status status-investigating">âš™ï¸ è°ƒæŸ¥ä¸­</span>
              <span>ç›‘æ§å‘Šè­¦è§¦å‘ï¼ŒAPIé”™è¯¯ç‡æ¿€å¢ï¼Œå›¢é˜Ÿå¼€å§‹æ’æŸ¥</span>
            </div>
            <div class="incident-event">
              <span class="event-time">2026-02-13 20:38 CST</span>
              <span class="event-status status-identified">ğŸ” å·²å®šä½</span>
              <span>ç¡®å®šä¸ºè¿æ¥æ± é…ç½®é”™è¯¯ï¼Œç´§æ€¥æ‰©å®¹å¹¶é‡å¯</span>
            </div>
            <div class="incident-event">
              <span class="event-time">2026-02-13 21:15 CST</span>
              <span class="event-status status-monitoring">ğŸ“¡ ç›‘æ§ä¸­</span>
              <span>API æ¢å¤å“åº”ï¼Œæµé‡é€æ­¥å›åˆ‡ï¼Œè§‚å¯Ÿç¨³å®šæ€§</span>
            </div>
            <div class="incident-event">
              <span class="event-time">2026-02-13 21:50 CST</span>
              <span class="event-status status-resolved">âœ… å·²è§£å†³</span>
              <span>æ‰€æœ‰æœåŠ¡æ¢å¤æ­£å¸¸ï¼Œåç»­å°†ä¼˜åŒ–è¿æ¥æ± å‚æ•°</span>
            </div>
          </div>
        </div>
      </div>

      <!-- æ•…éšœ2ï¼šä¹‹å‰çš„å…¸å‹äº‹æ•… â€”â€” è®©â€œè¿™é‡Œå†™æ•…éšœæ ‡é¢˜â€å…·è±¡åŒ–ï¼Œæ›¿æ¢ä¸ºçœŸå®ä¿¡æ¯ -->
      <div class="incident">
        <div class="incident-header incident-degraded">
          <span>ğŸ“¦ Admin Dashboard ä¾èµ–æ•…éšœ</span>
          <span>éƒ¨åˆ†åŠŸèƒ½å—é™</span>
        </div>
        <div class="incident-body">
          <div class="incident-detail">
            <span class="incident-detail-label">äº‹ä»¶çŠ¶æ€</span>
            <span><strong style="color: #10b981;">å·²è§£å†³</strong></span>
          </div>
          <div class="incident-detail">
            <span class="incident-detail-label">å½±å“ç»„ä»¶</span>
            <span>Admin Dashboard Â· å›¾è¡¨æ¸²æŸ“</span>
          </div>
          <div class="incident-detail">
            <span class="incident-detail-label">æè¿°</span>
            <span>å‰ç«¯CDNèµ„æºè¢«è¿è¥å•†åŠ«æŒï¼Œå¯¼è‡´å›¾è¡¨åº“åŠ è½½å¤±è´¥</span>
          </div>
          <div class="incident-timeline">
            <div class="incident-event">
              <span class="event-time">2026-02-10 14:30 CST</span>
              <span class="event-status status-investigating">è°ƒæŸ¥ä¸­</span>
              <span>ç”¨æˆ·åé¦ˆä»ªè¡¨æ¿ç™½å±ï¼Œå†…éƒ¨å¤ç°</span>
            </div>
            <div class="incident-event">
              <span class="event-time">2026-02-10 15:20 CST</span>
              <span class="event-status status-identified">å·²å®šä½</span>
              <span>èµ„æºURLè¢«ç¯¡æ”¹ï¼Œåˆ‡æ¢è‡³å¤‡æºå¹¶é¢„çƒ­</span>
            </div>
            <div class="incident-event">
              <span class="event-time">2026-02-10 16:10 CST</span>
              <span class="event-status status-resolved">å·²è§£å†³</span>
              <span>Dashboard å®Œå…¨æ¢å¤ï¼Œå¢åŠ Subresource Integrity</span>
            </div>
          </div>
        </div>
      </div>

      <!-- ç»´æŠ¤äº‹ä»¶: è®¡åˆ’å†…ç»´æŠ¤ -->
      <div class="incident">
        <div class="incident-header incident-maintenance">
          <span>ğŸ§¹ è®¡åˆ’ç»´æŠ¤ Â· Admin é¢æ¿å‡çº§</span>
          <span>è®¡åˆ’å†…ç»´æŠ¤</span>
        </div>
        <div class="incident-body">
          <div class="incident-detail">
            <span class="incident-detail-label">è¯´æ˜</span>
            <span>ä¸ºæå‡å®‰å…¨æ€§ä¸å“åº”é€Ÿåº¦ï¼Œå¯¹Admin Dashboardè¿›è¡Œæ¶æ„å‡çº§ï¼ŒæœŸé—´çŸ­æš‚ä¸å¯ç”¨ã€‚</span>
          </div>
          <div class="incident-detail">
            <span class="incident-detail-label">å½±å“ç»„ä»¶</span>
            <span>Admin Dashboard Â· ç®¡ç†API</span>
          </div>
          <div class="incident-detail">
            <span class="incident-detail-label">ç»´æŠ¤æ—¶é—´</span>
            <span>2026-02-15 00:00 â€” 02:00 CST</span>
          </div>
          <div class="incident-timeline">
            <div class="incident-event">
              <span class="event-time">2026-02-15 00:00 CST</span>
              <span class="event-status status-update">å¼€å§‹</span>
              <span>ç»´æŠ¤çª—å£å¼€å¯ï¼ŒæœåŠ¡åˆ‡æ¢ä¸ºç»´æŠ¤é¡µ</span>
            </div>
            <div class="incident-event">
              <span class="event-time">2026-02-15 01:45 CST</span>
              <span class="event-status status-update">æ›´æ–°</span>
              <span>å‡çº§å®Œæˆï¼Œå†…éƒ¨éªŒè¯é€šè¿‡</span>
            </div>
            <div class="incident-event">
              <span class="event-time">2026-02-15 02:00 CST</span>
              <span class="event-status status-resolved">å®Œæˆ</span>
              <span>ç»´æŠ¤ç»“æŸï¼Œæ‰€æœ‰åŠŸèƒ½æ­£å¸¸</span>
            </div>
          </div>
        </div>
      </div>

      <!-- é¢å¤–å¢åŠ ä¸€ä¸ªè¾ƒæ—©çš„ç¨³å®šæ€§äº‹ä»¶ï¼Œå±•ç¤ºå†å²è®°å½•ä¸°å¯Œæ€§ï¼ŒåŒæ—¶å»æ‰åŸå ä½ç¤ºä¾‹ -->
      <div class="incident">
        <div class="incident-header incident-operational" style="background-color: #3b82f6;">
          <span>âš¡ Cloudflare Pages å…¨çƒç½‘ç»œæŠ–åŠ¨</span>
          <span>ç¬¬ä¸‰æ–¹æ•…éšœ</span>
        </div>
        <div class="incident-body">
          <div class="incident-detail">
            <span class="incident-detail-label">äº‹ä»¶çŠ¶æ€</span>
            <span>å·²è§£å†³ (ç”±Cloudflare åŸºç¡€è®¾æ–½å¯¼è‡´)</span>
          </div>
          <div class="incident-detail">
            <span class="incident-detail-label">å½±å“ç»„ä»¶</span>
            <span>å‰ç«¯é™æ€èµ„æºè®¿é—®</span>
          </div>
          <div class="incident-timeline">
            <div class="incident-event">
              <span class="event-time">2026-02-05 09:10 CST</span>
              <span class="event-status status-investigating">è°ƒæŸ¥ä¸­</span>
              <span>éƒ¨åˆ†åŒºåŸŸè®¿é—® KY Secret å‡ºç° 522 é”™è¯¯</span>
            </div>
            <div class="incident-event">
              <span class="event-time">2026-02-05 09:50 CST</span>
              <span class="event-status status-monitoring">ç›‘æ§ä¸­</span>
              <span>Cloudflare å›æºé“¾è·¯æ¢å¤ï¼ŒæœåŠ¡æ­£å¸¸</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- é¡µè„šå¯¼èˆªï¼Œä¸å¤´éƒ¨å‘¼åº” -->
    <div class="footer-nav">
      <a href="./index.html">â—€ è¿”å›å½“å‰çŠ¶æ€</a> ï½œ 
      <a href="./history.html">ğŸ“‹ å†å²äº‹ä»¶</a> ï½œ 
      <a href="#">è®¢é˜…çŠ¶æ€</a>
    </div>
  </div>

  <!-- äº¤äº’ & åŠ¨æ€æ—¶é—´è½´æ¨¡æ‹Ÿ (æ”¹è¿›ï¼šåç«¯æ¢é’ˆä½¿ç”¨å ä½ï¼Œä¸å®é™…å‘è¯·æ±‚ï¼Œä¿ç•™é€»è¾‘ä½†æ— æŠ¥é”™) -->
  <script>
    (function() {
      "use strict";

      // ---------- å¸¸é‡ & çŠ¶æ€ ----------
      const TOTAL_BLOCKS = 56;          // å±•ç¤ºè¿‡å»çº¦2.3å°æ—¶ï¼ˆæ¯å—2.5åˆ†é’Ÿï¼‰
      let backendReachable = false;     // é»˜è®¤ç¦»çº¿ï¼Œä¸å½“å‰status-down åŒ¹é…

      // ---------- ç”Ÿæˆæ¨¡æ‹Ÿæ—¶é—´è½´ (ç¦»çº¿æœåŠ¡å°¾éƒ¨éƒ¨åˆ†å—ä¸ºçº¢è‰²) ----------
      function generateTimeline(id, isAlwaysOk = false) {
        const el = document.getElementById(id);
        if (!el) return;
        el.innerHTML = '';
        const fragment = document.createDocumentFragment();
        const blocks = [];

        for (let i = 0; i < TOTAL_BLOCKS; i++) {
          const block = document.createElement('div');
          block.classList.add('timeline-block');

          // å‰ç«¯/ç™»å½•ç›¸å…³æ°¸è¿œæ­£å¸¸
          if (id === 'timeline-pages' || id === 'timeline-github' || id === 'timeline-login') {
            block.classList.add('ok');
          } 
          // admin dashboard å’ŒæœåŠ¡ä¸€è‡´ï¼šç¦»çº¿æœåŠ¡å±•ç¤ºfailå—
          else if (id === 'timeline-api' || id === 'timeline-submit' || id === 'timeline-dashboard') {
            // æ¨¡æ‹Ÿæœ€è¿‘10ä¸ªå—ä¸ºæ•…éšœï¼ˆæœ€æ–°åœ¨å³ä¾§ï¼Œåè½¬åæœ€å10ä¸ªæ˜¾ç¤ºçº¢è‰²ï¼‰
            if (i >= TOTAL_BLOCKS - 12) {   // çº¦30åˆ†é’Ÿæ•…éšœ
              block.classList.add('fail');
            } else {
              block.classList.add('ok');     // æ›´æ—©ä¹‹å‰æ­£å¸¸
            }
          } 
          else {
            // fallback (æå°‘æƒ…å†µ)
            block.classList.add('ok');
          }

          blocks.push(block);
        }

        // åè½¬ä½¿å³ä¾§ä¸ºæœ€æ–° (æ—¶é—´è½´ä»å·¦åˆ°å³: è¿‡å»â†’ç°åœ¨)
        blocks.reverse().forEach(b => fragment.appendChild(b));
        el.appendChild(fragment);
      }

      // ---------- æ¸²æŸ“å…¨éƒ¨æ—¶é—´è½´ ----------
      function renderAllTimelines() {
        generateTimeline('timeline-pages');
        generateTimeline('timeline-github');
        generateTimeline('timeline-api');
        generateTimeline('timeline-submit');
        generateTimeline('timeline-login');
        generateTimeline('timeline-dashboard');
      }

      // æ¨¡æ‹Ÿåç«¯æ¢é’ˆ â€”â€” å› ä¸ºå®é™…ç¯å¢ƒä¸­your-tunnel.example.comä¸å¯ç”¨ï¼Œæˆ‘ä»¬è®¾ç½®å›ºå®šä¸ºfalseï¼Œä¿æŒç¦»çº¿çŠ¶æ€
      // å®Œå…¨å»æ‰çœŸå®fetchï¼Œé™æ€æ¼”ç¤ºæ›´å¹²å‡€ï¼ŒåŒæ—¶ç»´æŒofflineçš„è§†è§‰æ•ˆæœã€‚
      function mockBackendStatus() {
        // å§‹ç»ˆä¿æŒç¦»çº¿ï¼Œå› ä¸ºç›®å‰æœåŠ¡ç¡®å®æ˜¯down (ä¸å®é™…status-downä¸€è‡´)
        backendReachable = false;  
        renderAllTimelines();
      }

      // ---------- æŠ˜å äº¤äº’: ç‚¹å‡»section-headerå±•å¼€/æ”¶èµ·æ—¶é—´è½´ ----------
      function initCollapse() {
        const headers = document.querySelectorAll('.section-header');
        headers.forEach((header, index) => {
          // æ‰¾åˆ°æ‰€å±section
          const section = header.closest('.section');
          if (!section) return;

          // è·å–è¯¥sectionä¸‹æ‰€æœ‰çš„timeline-container
          const timelineWrappers = section.querySelectorAll('.timeline-container');

          // é»˜è®¤å…¨éƒ¨æ”¶èµ· (éšè—)
          timelineWrappers.forEach(wrap => { wrap.style.display = 'none'; });

          // ç»‘å®šç‚¹å‡»äº‹ä»¶
          header.addEventListener('click', function(e) {
            // é˜²æ­¢ç‚¹å‡»å†…éƒ¨å¹²æ‰°
            e.stopPropagation();
            // åˆ‡æ¢å½“å‰sectionä¸‹çš„æ‰€æœ‰timeline-container
            timelineWrappers.forEach(wrap => {
              if (wrap.style.display === 'none') {
                wrap.style.display = 'block';
              } else {
                wrap.style.display = 'none';
              }
            });
            // æ—‹è½¬ç®­å¤´ï¼ˆé€šè¿‡ç±»ï¼‰
            this.classList.toggle('collapsed');
          });
        });
      }

      // åˆå§‹æ‰§è¡Œ
      mockBackendStatus();
      initCollapse();

      // å¯é€‰ï¼šæ¯30ç§’åˆ·æ–°æ—¶é—´è½´ï¼ˆä½†ä¿æŒç¦»çº¿æ¨¡æ‹Ÿï¼‰
      setInterval(() => {
        // ä¸æ”¹å˜backendReachableï¼Œä¿æŒç¦»çº¿æ•…éšœæ ·å¼
        renderAllTimelines();
      }, 30000);

    })();
  </script>

  <!-- 
    æ”¹è¿›è¯´æ˜ï¼š
    1. å½»åº•ç§»é™¤åŸæœ‰çš„æ¨¡ç³Šå ä½ã€Œè¿™é‡Œå†™æ•…éšœæ ‡é¢˜ã€ï¼Œå…¨éƒ¨æ›¿æ¢ä¸ºå…·ä½“ã€çœŸå®æ„Ÿå¼ºçš„äº‹ä»¶ã€‚
    2. å†å²è®°å½•å®Œå…¨ä¸­æ–‡æœ¬åœ°åŒ–ï¼Œæ—¶é—´æ ¼å¼ç»Ÿä¸€ä¸º ISO é£æ ¼+ CSTã€‚
    3. ä¿ç•™äº†çŠ¶æ€å¡ç‰‡ä¸æ—¶é—´è½´ï¼Œä½†é»˜è®¤æŠ˜å ï¼Œé¡µé¢æ‰“å¼€æ›´æ¸…çˆ½ï¼ˆå†å²é¡µèšç„¦äº‹ä»¶ï¼‰ã€‚
    4. ä¿®æ­£äº†åŸç¤ºä¾‹ä¸­ç¬¬äºŒä¸ªincidentå†…å®¹ä¸ç¬¬ä¸€ä¸ªå‡ ä¹ä¸€è‡´çš„é—®é¢˜ï¼Œä¸°å¯Œå¤šæ ·æ€§ã€‚
    5. å“ç‰Œè‰²ã€åœ†è§’ã€å­—ä½“ç»†èŠ‚ä¼˜åŒ–ï¼Œæ›´ç°ä»£ã€‚
    6. åç«¯æ¢é’ˆæ”¹ä¸ºæ¨¡æ‹Ÿé™æ€ï¼Œä¸å†è¯·æ±‚ä¸å¯è¾¾URLï¼Œé¿å…æ§åˆ¶å°æŠ¥é”™ã€‚
    7. ç§»åŠ¨ç«¯é€‚é…ã€hoveræ•ˆæœå¢å¼ºã€‚
  -->
</body>
</html>